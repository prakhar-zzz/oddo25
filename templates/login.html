<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Login - ReWear</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>

  <body>
    <div class="relative flex min-h-screen flex-col bg-white overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
      <!-- Header -->
      <header class="flex items-center justify-between border-b px-10 py-3 border-b-[#f1f4f3]">
        <div class="flex items-center gap-4 text-[#121615]">
          <div class="size-4">
            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M36.7273 44C33.9891 44 31.6043 39.8386 30.3636 33.69C29.123 39.8386 26.7382 44 24 44C21.2618 44 18.877 39.8386 17.6364 33.69C16.3957 39.8386 14.0109 44 11.2727 44C7.25611 44 4 35.0457 4 24C4 12.9543 7.25611 4 11.2727 4C14.0109 4 16.3957 8.16144 17.6364 14.31C18.877 8.16144 21.2618 4 24 4C26.7382 4 29.123 8.16144 30.3636 14.31C31.6043 8.16144 33.9891 4 36.7273 4C40.7439 4 44 12.9543 44 24C44 35.0457 40.7439 44 36.7273 44Z"
                fill="currentColor"
              />
            </svg>
          </div>
          <h2 class="text-lg font-bold">ReWear</h2>
        </div>
        <div class="flex gap-8 items-center">
          <nav class="flex gap-6">
            <a href="#" class="text-sm font-medium">About</a>
            <a href="#" class="text-sm font-medium">How it works</a>
            <a href="#" class="text-sm font-medium">Contact</a>
          </nav>
          <!-- Redirects to register.html -->
          <a
            href="{{ url_for('register') }}"
            class="h-10 px-4 rounded-full bg-[#f1f4f3] text-sm font-bold flex items-center justify-center"
          >
            Sign up
          </a>
        </div>
      </header>

      <!-- Main login form -->
      <main class="flex justify-center px-4 py-10">
        <div class="w-full max-w-md bg-white p-8 rounded-xl shadow-md">
          <h2 class="text-xl font-bold mb-6 text-center">Login to ReWear</h2>

          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="mb-4 px-4 py-2 rounded text-sm text-white {% if category == 'success' %}bg-green-500{% elif category == 'danger' %}bg-red-500{% else %}bg-blue-500{% endif %}">
                  {{ message }}
                </div>
              {% endfor %}
            {% endif %}
          {% endwith %}

          <form method="POST" action="{{ url_for('login') }}" class="space-y-5">
            {{ form.hidden_tag() }}

            <div>
              <label class="block text-sm font-medium mb-1" for="email">Email</label>
              {{ form.email(class="w-full px-4 py-3 border border-[#dde3e1] rounded-xl text-sm focus:outline-none") }}
            </div>

            <div>
              <label class="block text-sm font-medium mb-1" for="password">Password</label>
              {{ form.password(class="w-full px-4 py-3 border border-[#dde3e1] rounded-xl text-sm focus:outline-none") }}
            </div>

            <div class="text-center">
              <button
                type="submit"
                class="w-full py-3 rounded-full bg-[#dcf3eb] text-[#121615] font-bold text-sm hover:bg-[#c7ede2] transition"
              >
                Login
              </button>
            </div>
          </form>

          <!-- Link to Register Page -->
          <p class="mt-6 text-center text-sm text-[#6a8179]">
            Don't have an account?
            <a href="{{ url_for('register') }}" class="underline">Sign up</a>
          </p>
        </div>
      </main>
    </div>
  </body>
</html>
